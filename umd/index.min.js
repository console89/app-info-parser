!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("buffer"),require("path")):"function"==typeof define&&define.amd?define(["buffer","path"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).index=t(e.buffer,e.path)}(this,(function(e,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(n=i.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?a:String(a)),i)}var n,a}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=o(e);if(t){var n=o(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return u(this,r)}}var l,c=URL.createObjectURL(new Blob(['function inflate(a){"use strict";function w(){function m(a,b,d,h,m,n,o,p,q,r,s){var t,u,w,x,z,A,B,C,E,F,G,H,I,D=0,y=d;do e[a[b+D]]++,D++,y--;while(0!==y);if(e[0]==d)return o[0]=-1,p[0]=0,c;for(B=p[0],z=1;v>=z&&0===e[z];z++);for(A=z,z>B&&(B=z),y=v;0!==y&&0===e[y];y--);for(w=y,B>y&&(B=y),p[0]=B,H=1<<z;y>z;z++,H<<=1)if((H-=e[z])<0)return g;if((H-=e[y])<0)return g;for(e[y]+=H,l[1]=z=0,D=1,G=2;0!==--y;)l[G]=z+=e[D],G++,D++;y=0,D=0;do 0!==(z=a[b+D])&&(s[l[z]++]=y),D++;while(++y<d);for(d=l[w],l[0]=y=0,D=0,x=-1,F=-B,j[0]=0,E=0,I=0;w>=A;A++)for(t=e[A];0!==t--;){for(;A>F+B;){if(x++,F+=B,I=w-F,I=I>B?B:I,(u=1<<(z=A-F))>t+1&&(u-=t+1,G=A,I>z))for(;++z<I&&!((u<<=1)<=e[++G]);)u-=e[G];if(I=1<<z,r[0]+I>k)return g;j[x]=E=r[0],r[0]+=I,0!==x?(l[x]=y,f[0]=z,f[1]=B,z=y>>>F-B,f[2]=E-j[x-1]-z,q.set(f,3*(j[x-1]+z))):o[0]=E}for(f[1]=A-F,D>=d?f[0]=192:s[D]<h?(f[0]=s[D]<256?0:96,f[2]=s[D++]):(f[0]=n[s[D]-h]+16+64,f[2]=m[s[D++]-h]),u=1<<A-F,z=y>>>F;I>z;z+=u)q.set(f,3*(E+z));for(z=1<<A-1;0!==(y&z);z>>>=1)y^=z;for(y^=z,C=(1<<F)-1;(y&C)!=l[x];)x--,F-=B,C=(1<<F)-1}return 0!==H&&1!=w?i:c}function n(a){var c;for(b||(b=[],d=[],e=new Int32Array(v+1),f=[],j=new Int32Array(v),l=new Int32Array(v+1)),d.length<a&&(d=[]),c=0;a>c;c++)d[c]=0;for(c=0;v+1>c;c++)e[c]=0;for(c=0;3>c;c++)f[c]=0;j.set(e.subarray(0,v),0),l.set(e.subarray(0,v+1),0)}var b,d,e,f,j,l,a=this;a.inflate_trees_bits=function(a,c,e,f,h){var j;return n(19),b[0]=0,j=m(a,0,19,19,null,null,e,c,f,b,d),j==g?h.msg="oversubscribed dynamic bit lengths tree":(j==i||0===c[0])&&(h.msg="incomplete dynamic bit lengths tree",j=g),j},a.inflate_trees_dynamic=function(a,e,f,j,k,l,o,p,q){var v;return n(288),b[0]=0,v=m(f,0,a,257,r,s,l,j,p,b,d),v!=c||0===j[0]?(v==g?q.msg="oversubscribed literal/length tree":v!=h&&(q.msg="incomplete literal/length tree",v=g),v):(n(288),v=m(f,a,e,0,t,u,o,k,p,b,d),v!=c||0===k[0]&&a>257?(v==g?q.msg="oversubscribed distance tree":v==i?(q.msg="incomplete distance tree",v=g):v!=h&&(q.msg="empty distance tree with lengths",v=g),v):c)}}function H(){function u(a,b,e,f,h,i,k,l){var m,n,o,p,y,z,A,B,s=l.next_in_index,t=l.avail_in,q=k.bitb,r=k.bitk,u=k.write,v=u<k.read?k.read-u-1:k.end-u,w=j[a],x=j[b];do{for(;20>r;)t--,q|=(255&l.read_byte(s++))<<r,r+=8;if(m=q&w,n=e,o=f,B=3*(o+m),0!==(p=n[B]))for(;;){if(q>>=n[B+1],r-=n[B+1],0!==(16&p)){for(p&=15,y=n[B+2]+(q&j[p]),q>>=p,r-=p;15>r;)t--,q|=(255&l.read_byte(s++))<<r,r+=8;for(m=q&x,n=h,o=i,B=3*(o+m),p=n[B];;){if(q>>=n[B+1],r-=n[B+1],0!==(16&p)){for(p&=15;p>r;)t--,q|=(255&l.read_byte(s++))<<r,r+=8;if(z=n[B+2]+(q&j[p]),q>>=p,r-=p,v-=y,u>=z)A=u-z,u-A>0&&2>u-A?(k.window[u++]=k.window[A++],k.window[u++]=k.window[A++],y-=2):(k.window.set(k.window.subarray(A,A+2),u),u+=2,A+=2,y-=2);else{A=u-z;do A+=k.end;while(0>A);if(p=k.end-A,y>p){if(y-=p,u-A>0&&p>u-A){do k.window[u++]=k.window[A++];while(0!==--p)}else k.window.set(k.window.subarray(A,A+p),u),u+=p,A+=p,p=0;A=0}}if(u-A>0&&y>u-A){do k.window[u++]=k.window[A++];while(0!==--y)}else k.window.set(k.window.subarray(A,A+y),u),u+=y,A+=y,y=0;break}if(0!==(64&p))return l.msg="invalid distance code",y=l.avail_in-t,y=y>r>>3?r>>3:y,t+=y,s-=y,r-=y<<3,k.bitb=q,k.bitk=r,l.avail_in=t,l.total_in+=s-l.next_in_index,l.next_in_index=s,k.write=u,g;m+=n[B+2],m+=q&j[p],B=3*(o+m),p=n[B]}break}if(0!==(64&p))return 0!==(32&p)?(y=l.avail_in-t,y=y>r>>3?r>>3:y,t+=y,s-=y,r-=y<<3,k.bitb=q,k.bitk=r,l.avail_in=t,l.total_in+=s-l.next_in_index,l.next_in_index=s,k.write=u,d):(l.msg="invalid literal/length code",y=l.avail_in-t,y=y>r>>3?r>>3:y,t+=y,s-=y,r-=y<<3,k.bitb=q,k.bitk=r,l.avail_in=t,l.total_in+=s-l.next_in_index,l.next_in_index=s,k.write=u,g);if(m+=n[B+2],m+=q&j[p],B=3*(o+m),0===(p=n[B])){q>>=n[B+1],r-=n[B+1],k.window[u++]=n[B+2],v--;break}}else q>>=n[B+1],r-=n[B+1],k.window[u++]=n[B+2],v--}while(v>=258&&t>=10);return y=l.avail_in-t,y=y>r>>3?r>>3:y,t+=y,s-=y,r-=y<<3,k.bitb=q,k.bitk=r,l.avail_in=t,l.total_in+=s-l.next_in_index,l.next_in_index=s,k.write=u,c}var b,h,q,s,a=this,e=0,i=0,k=0,l=0,m=0,n=0,o=0,p=0,r=0,t=0;a.init=function(a,c,d,e,f,g){b=x,o=a,p=c,q=d,r=e,s=f,t=g,h=null},a.proc=function(a,v,w){var H,I,J,N,O,P,Q,K=0,L=0,M=0;for(M=v.next_in_index,N=v.avail_in,K=a.bitb,L=a.bitk,O=a.write,P=O<a.read?a.read-O-1:a.end-O;;)switch(b){case x:if(P>=258&&N>=10&&(a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,w=u(o,p,q,r,s,t,a,v),M=v.next_in_index,N=v.avail_in,K=a.bitb,L=a.bitk,O=a.write,P=O<a.read?a.read-O-1:a.end-O,w!=c)){b=w==d?E:G;break}k=o,h=q,i=r,b=y;case y:for(H=k;H>L;){if(0===N)return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);w=c,N--,K|=(255&v.read_byte(M++))<<L,L+=8}if(I=3*(i+(K&j[H])),K>>>=h[I+1],L-=h[I+1],J=h[I],0===J){l=h[I+2],b=D;break}if(0!==(16&J)){m=15&J,e=h[I+2],b=z;break}if(0===(64&J)){k=J,i=I/3+h[I+2];break}if(0!==(32&J)){b=E;break}return b=G,v.msg="invalid literal/length code",w=g,a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);case z:for(H=m;H>L;){if(0===N)return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);w=c,N--,K|=(255&v.read_byte(M++))<<L,L+=8}e+=K&j[H],K>>=H,L-=H,k=p,h=s,i=t,b=A;case A:for(H=k;H>L;){if(0===N)return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);w=c,N--,K|=(255&v.read_byte(M++))<<L,L+=8}if(I=3*(i+(K&j[H])),K>>=h[I+1],L-=h[I+1],J=h[I],0!==(16&J)){m=15&J,n=h[I+2],b=B;break}if(0===(64&J)){k=J,i=I/3+h[I+2];break}return b=G,v.msg="invalid distance code",w=g,a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);case B:for(H=m;H>L;){if(0===N)return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);w=c,N--,K|=(255&v.read_byte(M++))<<L,L+=8}n+=K&j[H],K>>=H,L-=H,b=C;case C:for(Q=O-n;0>Q;)Q+=a.end;for(;0!==e;){if(0===P&&(O==a.end&&0!==a.read&&(O=0,P=O<a.read?a.read-O-1:a.end-O),0===P&&(a.write=O,w=a.inflate_flush(v,w),O=a.write,P=O<a.read?a.read-O-1:a.end-O,O==a.end&&0!==a.read&&(O=0,P=O<a.read?a.read-O-1:a.end-O),0===P)))return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);a.window[O++]=a.window[Q++],P--,Q==a.end&&(Q=0),e--}b=x;break;case D:if(0===P&&(O==a.end&&0!==a.read&&(O=0,P=O<a.read?a.read-O-1:a.end-O),0===P&&(a.write=O,w=a.inflate_flush(v,w),O=a.write,P=O<a.read?a.read-O-1:a.end-O,O==a.end&&0!==a.read&&(O=0,P=O<a.read?a.read-O-1:a.end-O),0===P)))return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);w=c,a.window[O++]=l,P--,b=x;break;case E:if(L>7&&(L-=8,N++,M--),a.write=O,w=a.inflate_flush(v,w),O=a.write,P=O<a.read?a.read-O-1:a.end-O,a.read!=a.write)return a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);b=F;case F:return w=d,a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);case G:return w=g,a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w);default:return w=f,a.bitb=K,a.bitk=L,v.avail_in=N,v.total_in+=M-v.next_in_index,v.next_in_index=M,a.write=O,a.inflate_flush(v,w)}},a.free=function(){}}function T(a,b){var o,e=this,h=J,l=0,m=0,n=0,p=[0],q=[0],r=new H,s=0,t=new Int32Array(3*k),u=0,v=new w;e.bitk=0,e.bitb=0,e.window=new Uint8Array(b),e.end=b,e.read=0,e.write=0,e.reset=function(a,b){b&&(b[0]=u),h==P&&r.free(a),h=J,e.bitk=0,e.bitb=0,e.read=e.write=0},e.reset(a,null),e.inflate_flush=function(a,b){var f=a.next_out_index,g=e.read,d=(g<=e.write?e.write:e.end)-g;return d>a.avail_out&&(d=a.avail_out),0!==d&&b==i&&(b=c),a.avail_out-=d,a.total_out+=d,a.next_out.set(e.window.subarray(g,g+d),f),f+=d,g+=d,g==e.end&&(g=0,e.write==e.end&&(e.write=0),d=e.write-g,d>a.avail_out&&(d=a.avail_out),0!==d&&b==i&&(b=c),a.avail_out-=d,a.total_out+=d,a.next_out.set(e.window.subarray(g,g+d),f),f+=d,g+=d),a.next_out_index=f,e.read=g,b},e.proc=function(a,b){for(var i,B,C,D,E,F,G,H,T,U,V,W,x=a.next_in_index,y=a.avail_in,k=e.bitb,u=e.bitk,z=e.write,A=z<e.read?e.read-z-1:e.end-z;;)switch(h){case J:for(;3>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}switch(i=7&k,s=1&i,i>>>1){case 0:k>>>=3,u-=3,i=7&u,k>>>=i,u-=i,h=K;break;case 1:C=[],D=[],E=[[]],F=[[]],w.inflate_trees_fixed(C,D,E,F),r.init(C[0],D[0],E[0],0,F[0],0),k>>>=3,u-=3,h=P;break;case 2:k>>>=3,u-=3,h=M;break;case 3:return k>>>=3,u-=3,h=S,a.msg="invalid block type",b=g,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b)}break;case K:for(;32>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}if((65535&~k>>>16)!=(65535&k))return h=S,a.msg="invalid stored block lengths",b=g,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);l=65535&k,k=u=0,h=0!==l?L:0!==s?Q:J;break;case L:if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);if(0===A&&(z==e.end&&0!==e.read&&(z=0,A=z<e.read?e.read-z-1:e.end-z),0===A&&(e.write=z,b=e.inflate_flush(a,b),z=e.write,A=z<e.read?e.read-z-1:e.end-z,z==e.end&&0!==e.read&&(z=0,A=z<e.read?e.read-z-1:e.end-z),0===A)))return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);if(b=c,i=l,i>y&&(i=y),i>A&&(i=A),e.window.set(a.read_buf(x,i),z),x+=i,y-=i,z+=i,A-=i,0!==(l-=i))break;h=0!==s?Q:J;break;case M:for(;14>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}if(m=i=16383&k,(31&i)>29||(31&i>>5)>29)return h=S,a.msg="too many length or distance symbols",b=g,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);if(i=258+(31&i)+(31&i>>5),!o||o.length<i)o=[];else for(B=0;i>B;B++)o[B]=0;k>>>=14,u-=14,n=0,h=N;case N:for(;4+(m>>>10)>n;){for(;3>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}o[I[n++]]=7&k,k>>>=3,u-=3}for(;19>n;)o[I[n++]]=0;if(p[0]=7,i=v.inflate_trees_bits(o,p,q,t,a),i!=c)return b=i,b==g&&(o=null,h=S),e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);n=0,h=O;case O:for(;;){if(i=m,n>=258+(31&i)+(31&i>>5))break;for(i=p[0];i>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}if(i=t[3*(q[0]+(k&j[i]))+1],H=t[3*(q[0]+(k&j[i]))+2],16>H)k>>>=i,u-=i,o[n++]=H;else{for(B=18==H?7:H-14,G=18==H?11:3;i+B>u;){if(0===y)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);b=c,y--,k|=(255&a.read_byte(x++))<<u,u+=8}if(k>>>=i,u-=i,G+=k&j[B],k>>>=B,u-=B,B=n,i=m,B+G>258+(31&i)+(31&i>>5)||16==H&&1>B)return o=null,h=S,a.msg="invalid bit length repeat",b=g,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);H=16==H?o[B-1]:0;do o[B++]=H;while(0!==--G);n=B}}if(q[0]=-1,T=[],U=[],V=[],W=[],T[0]=9,U[0]=6,i=m,i=v.inflate_trees_dynamic(257+(31&i),1+(31&i>>5),o,T,U,V,W,t,a),i!=c)return i==g&&(o=null,h=S),b=i,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);r.init(T[0],U[0],t,V[0],t,W[0]),h=P;case P:if(e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,(b=r.proc(e,a,b))!=d)return e.inflate_flush(a,b);if(b=c,r.free(a),x=a.next_in_index,y=a.avail_in,k=e.bitb,u=e.bitk,z=e.write,A=z<e.read?e.read-z-1:e.end-z,0===s){h=J;break}h=Q;case Q:if(e.write=z,b=e.inflate_flush(a,b),z=e.write,A=z<e.read?e.read-z-1:e.end-z,e.read!=e.write)return e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);h=R;case R:return b=d,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);case S:return b=g,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b);default:return b=f,e.bitb=k,e.bitk=u,a.avail_in=y,a.total_in+=x-a.next_in_index,a.next_in_index=x,e.write=z,e.inflate_flush(a,b)}},e.free=function(a){e.reset(a,null),e.window=null,t=null},e.set_dictionary=function(a,b,c){e.window.set(a.subarray(b,b+c),0),e.read=e.write=c},e.sync_point=function(){return h==K?1:0}}function fb(){function b(a){return a&&a.istate?(a.total_in=a.total_out=0,a.msg=null,a.istate.mode=bb,a.istate.blocks.reset(a,null),c):f}var a=this;a.mode=0,a.method=0,a.was=[0],a.need=0,a.marker=0,a.wbits=0,a.inflateEnd=function(b){return a.blocks&&a.blocks.free(b),a.blocks=null,c},a.inflateInit=function(d,e){return d.msg=null,a.blocks=null,8>e||e>15?(a.inflateEnd(d),f):(a.wbits=e,d.istate.blocks=new T(d,1<<e),b(d),c)},a.inflate=function(a,b){var h,j;if(!a||!a.istate||!a.next_in)return f;for(b=b==m?i:c,h=i;;)switch(a.istate.mode){case W:if(0===a.avail_in)return h;if(h=b,a.avail_in--,a.total_in++,(15&(a.istate.method=a.read_byte(a.next_in_index++)))!=V){a.istate.mode=db,a.msg="unknown compression method",a.istate.marker=5;break}if((a.istate.method>>4)+8>a.istate.wbits){a.istate.mode=db,a.msg="invalid window size",a.istate.marker=5;break}a.istate.mode=X;case X:if(0===a.avail_in)return h;if(h=b,a.avail_in--,a.total_in++,j=255&a.read_byte(a.next_in_index++),0!==((a.istate.method<<8)+j)%31){a.istate.mode=db,a.msg="incorrect header check",a.istate.marker=5;break}if(0===(j&U)){a.istate.mode=bb;break}a.istate.mode=Y;case Y:if(0===a.avail_in)return h;h=b,a.avail_in--,a.total_in++,a.istate.need=4278190080&(255&a.read_byte(a.next_in_index++))<<24,a.istate.mode=Z;case Z:if(0===a.avail_in)return h;h=b,a.avail_in--,a.total_in++,a.istate.need+=16711680&(255&a.read_byte(a.next_in_index++))<<16,a.istate.mode=$;case $:if(0===a.avail_in)return h;h=b,a.avail_in--,a.total_in++,a.istate.need+=65280&(255&a.read_byte(a.next_in_index++))<<8,a.istate.mode=_;case _:return 0===a.avail_in?h:(h=b,a.avail_in--,a.total_in++,a.istate.need+=255&a.read_byte(a.next_in_index++),a.istate.mode=ab,e);case ab:return a.istate.mode=db,a.msg="need dictionary",a.istate.marker=0,f;case bb:if(h=a.istate.blocks.proc(a,h),h==g){a.istate.mode=db,a.istate.marker=0;break}if(h==c&&(h=b),h!=d)return h;h=b,a.istate.blocks.reset(a,a.istate.was),a.istate.mode=cb;case cb:return d;case db:return g;default:return f}},a.inflateSetDictionary=function(a,b,d){var e=0,g=d;return a&&a.istate&&a.istate.mode==ab?(g>=1<<a.istate.wbits&&(g=(1<<a.istate.wbits)-1,e=d-g),a.istate.blocks.set_dictionary(b,e,g),a.istate.mode=bb,c):f},a.inflateSync=function(a){var d,e,h,j,k;if(!a||!a.istate)return f;if(a.istate.mode!=db&&(a.istate.mode=db,a.istate.marker=0),0===(d=a.avail_in))return i;for(e=a.next_in_index,h=a.istate.marker;0!==d&&4>h;)a.read_byte(e)==eb[h]?h++:h=0!==a.read_byte(e)?0:4-h,e++,d--;return a.total_in+=e-a.next_in_index,a.next_in_index=e,a.avail_in=d,a.istate.marker=h,4!=h?g:(j=a.total_in,k=a.total_out,b(a),a.total_in=j,a.total_out=k,a.istate.mode=bb,c)},a.inflateSyncPoint=function(a){return a&&a.istate&&a.istate.blocks?a.istate.blocks.sync_point():f}}function gb(){}function hb(){var a=this,b=new gb,e=512,f=l,g=new Uint8Array(e),h=!1;b.inflateInit(),b.next_out=g,a.append=function(a,j){var k,p,l=[],m=0,n=0,o=0;if(0!==a.length){b.next_in_index=0,b.next_in=a,b.avail_in=a.length;do{if(b.next_out_index=0,b.avail_out=e,0!==b.avail_in||h||(b.next_in_index=0,h=!0),k=b.inflate(f),h&&k===i){if(0!==b.avail_in)throw new Error("inflating: bad input")}else if(k!==c&&k!==d)throw new Error("inflating: "+b.msg);if((h||k===d)&&b.avail_in===a.length)throw new Error("inflating: bad input");b.next_out_index&&(b.next_out_index===e?l.push(new Uint8Array(g)):l.push(new Uint8Array(g.subarray(0,b.next_out_index)))),o+=b.next_out_index,j&&b.next_in_index>0&&b.next_in_index!=m&&(j(b.next_in_index),m=b.next_in_index)}while(b.avail_in>0||0===b.avail_out);return p=new Uint8Array(o),l.forEach(function(a){p.set(a,n),n+=a.length}),p}},a.flush=function(){b.inflateEnd()}}var x,y,z,A,B,C,D,E,F,G,I,J,K,L,M,N,O,P,Q,R,S,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,ib,b=15,c=0,d=1,e=2,f=-2,g=-3,h=-4,i=-5,j=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],k=1440,l=0,m=4,n=9,o=5,p=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],q=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=15;w.inflate_trees_fixed=function(a,b,d,e){return a[0]=n,b[0]=o,d[0]=p,e[0]=q,c},x=0,y=1,z=2,A=3,B=4,C=5,D=6,E=7,F=8,G=9,I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=0,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,U=32,V=8,W=0,X=1,Y=2,Z=3,$=4,_=5,ab=6,bb=7,cb=12,db=13,eb=[0,0,255,255],gb.prototype={inflateInit:function(a){var c=this;return c.istate=new fb,a||(a=b),c.istate.inflateInit(c,a)},inflate:function(a){var b=this;return b.istate?b.istate.inflate(b,a):f},inflateEnd:function(){var b,a=this;return a.istate?(b=a.istate.inflateEnd(a),a.istate=null,b):f},inflateSync:function(){var a=this;return a.istate?a.istate.inflateSync(a):f},inflateSetDictionary:function(a,b){var c=this;return c.istate?c.istate.inflateSetDictionary(c,a,b):f},read_byte:function(a){var b=this;return b.next_in.subarray(a,a+1)[0]},read_buf:function(a,b){var c=this;return c.next_in.subarray(a,a+b)}},ib=a.zip||a,ib.Inflater=ib._jzlib_Inflater=hb}!function(a){"use strict";function d(){inflate(a),postMessage({type:"importScripts"})}function e(b){var d=a[b.codecClass],e=b.sn;if(c[e])throw Error("duplicated sn");c[e]={codec:new d(b.options),crcInput:"input"===b.crcType,crcOutput:"output"===b.crcType,crc:new j},postMessage({type:"newTask",sn:e})}function g(a){var i,j,k,m,n,o,p,b=a.sn,d=a.type,g=a.data,h=c[b];if(!h&&a.codecClass&&(e(a),h=c[b]),i="append"===d,j=f(),i)try{k=h.codec.append(g,function(a){postMessage({type:"progress",sn:b,loaded:a})})}catch(l){throw delete c[b],l}else delete c[b],k=h.codec.flush();m=f()-j,j=f(),g&&h.crcInput&&h.crc.append(g),k&&h.crcOutput&&h.crc.append(k),n=f()-j,o={type:d,sn:b,codecTime:m,crcTime:n},p=[],k&&(o.data=k,p.push(k.buffer)),i||!h.crcInput&&!h.crcOutput||(o.crc=h.crc.get());try{postMessage(o,p)}catch(q){postMessage(o)}}function h(a,b,c){var d={type:a,sn:b,error:i(c)};postMessage(d)}function i(a){return{message:a.message,stack:a.stack}}function j(){this.crc=-1}function k(){}var b,c,f;if(a.zWorkerInitialized)throw new Error("z-worker.js should be run only once");a.zWorkerInitialized=!0,addEventListener("message",function(a){var c=a.data,d=c.type,e=c.sn,f=b[d];if(f)try{f(c)}catch(g){h(d,e,g)}postMessage({type:"echo",originalType:d,sn:e})}),b={importScripts:d,newTask:e,append:g,flush:g},c={},f=a.performance?a.performance.now.bind(a.performance):Date.now,j.prototype.append=function(a){var d,e,b=0|this.crc,c=this.table;for(d=0,e=0|a.length;e>d;d++)b=b>>>8^c[255&(b^a[d])];this.crc=b},j.prototype.get=function(){return~this.crc},j.prototype.table=function(){var a,b,c,d=[];for(a=0;256>a;a++){for(c=a,b=0;8>b;b++)1&c?c=3988292384^c>>>1:c>>>=1;d[a]=c}return d}(),a.NOOP=k,k.prototype.append=function(a){return a},k.prototype.flush=function(){}}(this);'],{type:"text/javascript"})),d="File format is not recognized.",g="File contains encrypted entry.",b="File is using Zip64 (4gb+ file size).",p="Error while reading zip file.",v="Error while reading file data.",y=524288,w="text/plain";try{l=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){l=void 0}var m={};function _(){this.crc=-1}function k(){}function E(e,t){var r,i;return r=new ArrayBuffer(e),i=new Uint8Array(r),t&&i.set(t,0),{buffer:r,array:i,view:new DataView(r)}}function x(){}function I(e){var t,r=this;r.size=0,r.init=function(i,n){var a=new Blob([e],{type:w});(t=new U(a)).init((function(){r.size=t.size,i()}),n)},r.readUint8Array=function(e,r,i,n){t.readUint8Array(e,r,i,n)}}function A(e){var t,r=this;r.size=0,r.init=function(i){for(var n=e.length;"="==e.charAt(n-1);)n--;t=e.indexOf(",")+1,r.size=Math.floor(.75*(n-t)),i()},r.readUint8Array=function(r,i,n){var a,o=E(i),s=4*Math.floor(r/3),f=4*Math.ceil((r+i)/3),u=atob(e.substring(s+t,f+t)),h=r-3*Math.floor(s/4);for(a=h;a<h+i;a++)o.array[a-h]=u.charCodeAt(a);n(o.array)}}function U(e){var t=this;t.size=0,t.init=function(r){t.size=e.size,r()},t.readUint8Array=function(t,r,i,n){var a=new FileReader;a.onload=function(e){i(new Uint8Array(e.target.result))},a.onerror=n;try{a.readAsArrayBuffer(function(e,t,r){if(t<0||r<0||t+r>e.size)throw new RangeError("offset:"+t+", length:"+r+", size:"+e.size);return e.slice?e.slice(t,t+r):e.webkitSlice?e.webkitSlice(t,t+r):e.mozSlice?e.mozSlice(t,t+r):e.msSlice?e.msSlice(t,t+r):void 0}(e,t,r))}catch(e){n(e)}}}function T(){}function L(e){var t,r=this;r.init=function(e){t=new Blob([],{type:w}),e()},r.writeUint8Array=function(e,r){t=new Blob([t,l?e:e.buffer],{type:w}),r()},r.getData=function(r,i){var n=new FileReader;n.onload=function(e){r(e.target.result)},n.onerror=i,n.readAsText(t,e)}}function S(e){var t=this,r="",i="";t.init=function(t){r+="data:"+(e||"")+";base64,",t()},t.writeUint8Array=function(e,t){var n,a=i.length,o=i;for(i="",n=0;n<3*Math.floor((a+e.length)/3)-a;n++)o+=String.fromCharCode(e[n]);for(;n<e.length;n++)i+=String.fromCharCode(e[n]);o.length>2?r+=btoa(o):i=o,t()},t.getData=function(e){e(r+btoa(i))}}function B(e){var t,r=this;r.init=function(r){t=new Blob([],{type:e}),r()},r.writeUint8Array=function(r,i){t=new Blob([t,l?r:r.buffer],{type:e}),i()},r.getData=function(e){e(t)}}function z(e,t,r,i,n,a,o,s,f,u){var h,l,c,d=0,g=t.sn;function b(){e.removeEventListener("message",p,!1),s(l,c)}function p(t){var r=t.data,n=r.data,s=r.error;if(s)return s.toString=function(){return"Error: "+this.message},void f(s);if(r.sn===g)switch("number"==typeof r.codecTime&&(e.codecTime+=r.codecTime),"number"==typeof r.crcTime&&(e.crcTime+=r.crcTime),r.type){case"append":n?(l+=n.length,i.writeUint8Array(n,(function(){v()}),u)):v();break;case"flush":c=r.crc,n?(l+=n.length,i.writeUint8Array(n,(function(){b()}),u)):b();break;case"progress":o&&o(h+r.loaded,a);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",r)}}function v(){(h=d*y)<=a?r.readUint8Array(n+h,Math.min(y,a-h),(function(r){o&&o(h,a);var i=0===h?t:{sn:g};i.type="append",i.data=r;try{e.postMessage(i,[r.buffer])}catch(t){e.postMessage(i)}d++}),f):e.postMessage({sn:g,type:"flush"})}l=0,e.addEventListener("message",p,!1),v()}function N(e,t,r,i,n,a,o,s,f,u){var h,l=0,c=0,d="input"===a,g="output"===a,b=new _;!function a(){var p;if((h=l*y)<n)t.readUint8Array(i+h,Math.min(y,n-h),(function(t){var i;try{i=e.append(t,(function(e){o&&o(h+e,n)}))}catch(e){return void f(e)}i?(c+=i.length,r.writeUint8Array(i,(function(){l++,setTimeout(a,1)}),u),g&&b.append(i)):(l++,setTimeout(a,1)),d&&b.append(t),o&&o(h,n)}),f);else{try{p=e.flush()}catch(e){return void f(e)}p?(g&&b.append(p),c+=p.length,r.writeUint8Array(p,(function(){s(c,b.get())}),u)):s(c,b.get())}}()}function O(e,t,r,i,n,a,o,s,f,u,h){var l="input";m.useWebWorkers&&o?z(e,{sn:t,codecClass:"NOOP",crcType:l},r,i,n,a,f,s,u,h):N(new k,r,i,n,a,l,f,s,u,h)}function F(e){var t,r,i="",n=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i+=(r=255&e.charCodeAt(t))>127?n[r-128]:String.fromCharCode(r);return i}function R(e){return decodeURIComponent(escape(e))}function M(e){var t,r="";for(t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function C(e,t,r,i,n){e.version=t.view.getUint16(r,!0),e.bitFlag=t.view.getUint16(r+2,!0),e.compressionMethod=t.view.getUint16(r+4,!0),e.lastModDateRaw=t.view.getUint32(r+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,r=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(e){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((i||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(r+10,!0),e.compressedSize=t.view.getUint32(r+14,!0),e.uncompressedSize=t.view.getUint32(r+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(r+22,!0),e.extraFieldLength=t.view.getUint16(r+24,!0)):n(b)):n(g)}function D(e,t,r){var i=0;function n(){}n.prototype.getData=function(t,n,a,o){var s=this;function f(e,i){o&&!function(e){var t=E(4);return t.view.setUint32(0,e),s.crc32==t.view.getUint32(0)}(i)?r("CRC failed."):t.getData((function(e){n(e)}))}function u(e){r(e||v)}function h(e){r(e||"Error while writing file data.")}e.readUint8Array(s.offset,30,(function(n){var l,c=E(n.length,n);1347093252==c.view.getUint32(0)?(C(s,c,4,!1,r),l=s.offset+30+s.filenameLength+s.extraFieldLength,t.init((function(){0===s.compressionMethod?O(s._worker,i++,e,t,l,s.compressedSize,o,f,a,u,h):function(e,t,r,i,n,a,o,s,f,u,h){var l=o?"output":"none";m.useWebWorkers?z(e,{sn:t,codecClass:"Inflater",crcType:l},r,i,n,a,f,s,u,h):N(new m.Inflater,r,i,n,a,l,f,s,u,h)}(s._worker,i++,e,t,l,s.compressedSize,o,f,a,u,h)}),h)):r(d)}),u)};var a={getEntries:function(t){var i=this._worker;!function(t){e.size<22?r(d):i(22,(function(){i(Math.min(65558,e.size),(function(){r(d)}))}));function i(i,n){e.readUint8Array(e.size-i,i,(function(e){for(var r=e.length-22;r>=0;r--)if(80===e[r]&&75===e[r+1]&&5===e[r+2]&&6===e[r+3])return void t(new DataView(e.buffer,r,22));n()}),(function(){r(p)}))}}((function(a){var o,s;o=a.getUint32(16,!0),s=a.getUint16(8,!0),o<0||o>=e.size?r(d):e.readUint8Array(o,e.size-o,(function(e){var a,o,f,u,h=0,l=[],c=E(e.length,e);for(a=0;a<s;a++){if((o=new n)._worker=i,1347092738!=c.view.getUint32(h))return void r(d);C(o,c,h+6,!0,r),o.commentLength=c.view.getUint16(h+32,!0),o.directory=16==(16&c.view.getUint8(h+38)),o.offset=c.view.getUint32(h+42,!0),f=M(c.array.subarray(h+46,h+46+o.filenameLength)),o.filename=2048==(2048&o.bitFlag)?R(f):F(f),o.directory||"/"!=o.filename.charAt(o.filename.length-1)||(o.directory=!0),u=M(c.array.subarray(h+46+o.filenameLength+o.extraFieldLength,h+46+o.filenameLength+o.extraFieldLength+o.commentLength)),o.comment=2048==(2048&o.bitFlag)?R(u):F(u),l.push(o),h+=46+o.filenameLength+o.extraFieldLength+o.commentLength}t(l)}),(function(){r(p)}))}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};m.useWebWorkers?H("inflater",(function(e){a._worker=e,t(a)}),(function(e){r(e)})):t(a)}function j(e){return unescape(encodeURIComponent(e))}function P(e){var t,r=[];for(t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}function q(e,t,r,i){var n={},a=[],o=0,s=0;function f(e){r(e||"Error while writing zip file.")}function u(e){r(e||v)}var h={add:function(t,h,l,c,d){var g,b,p,v=this._worker;function y(t,r){var i=E(16);o+=t||0,i.view.setUint32(0,1347094280),void 0!==r&&(g.view.setUint32(10,r,!0),i.view.setUint32(4,r,!0)),h&&(i.view.setUint32(8,t,!0),g.view.setUint32(14,t,!0),i.view.setUint32(12,h.size,!0),g.view.setUint32(18,h.size,!0)),e.writeUint8Array(i.array,(function(){o+=16,l()}),f)}function w(){d=d||{},t=t.trim(),d.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),n.hasOwnProperty(t)?r("File already exists."):(b=P(j(t)),a.push(t),function(r){var a;p=d.lastModDate||new Date,g=E(26),n[t]={headerArray:g.array,directory:d.directory,filename:b,offset:o,comment:P(j(d.comment||""))},g.view.setUint32(0,335546376),d.version&&g.view.setUint8(0,d.version),i||0===d.level||d.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(p.getHours()<<6|p.getMinutes())<<5|p.getSeconds()/2,!0),g.view.setUint16(8,(p.getFullYear()-1980<<4|p.getMonth()+1)<<5|p.getDate(),!0),g.view.setUint16(22,b.length,!0),(a=E(30+b.length)).view.setUint32(0,1347093252),a.array.set(g.array,4),a.array.set(b,30),o+=a.array.length,e.writeUint8Array(a.array,r,f)}((function(){h?i||0===d.level?O(v,s++,h,e,0,h.size,!0,y,c,u,f):function(e,t,r,i,n,a,o,s,f){var u="input";m.useWebWorkers?z(e,{sn:t,options:{level:n},codecClass:"Deflater",crcType:u},r,i,0,r.size,o,a,s,f):N(new m.Deflater,r,i,0,r.size,u,o,a,s,f)}(v,s++,h,e,d.level,y,c,u,f):y()})))}h?h.init(w,u):w()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var r,i,s,u=0,h=0;for(i=0;i<a.length;i++)u+=46+(s=n[a[i]]).filename.length+s.comment.length;for(r=E(u+22),i=0;i<a.length;i++)s=n[a[i]],r.view.setUint32(h,1347092738),r.view.setUint16(h+4,5120),r.array.set(s.headerArray,h+6),r.view.setUint16(h+32,s.comment.length,!0),s.directory&&r.view.setUint8(h+38,16),r.view.setUint32(h+42,s.offset,!0),r.array.set(s.filename,h+46),r.array.set(s.comment,h+46+s.filename.length),h+=46+s.filename.length+s.comment.length;r.view.setUint32(h,1347093766),r.view.setUint16(h+8,a.length,!0),r.view.setUint16(h+10,a.length,!0),r.view.setUint32(h+12,u,!0),r.view.setUint32(h+16,o,!0),e.writeUint8Array(r.array,(function(){e.getData(t)}),f)},_worker:null};m.useWebWorkers?H("deflater",(function(e){h._worker=e,t(h)}),(function(e){r(e)})):t(h)}function H(e,t,r){if(null===m.workerScripts||null===m.workerScriptsPath){var i=new Worker(c);i.codecTime=i.crcTime=0,i.postMessage({type:"importScripts",scripts:["inflate.js"]}),i.addEventListener("message",(function e(a){var o=a.data;if(o.error)return i.terminate(),void r(o.error);"importScripts"===o.type&&(i.removeEventListener("message",e),i.removeEventListener("error",n),t(i))})),i.addEventListener("error",n)}else r(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function n(e){i.terminate(),r(e)}}function V(e){console.error(e)}_.prototype.append=function(e){for(var t=0|this.crc,r=this.table,i=0,n=0|e.length;i<n;i++)t=t>>>8^r[255&(t^e[i])];this.crc=t},_.prototype.get=function(){return~this.crc},_.prototype.table=function(){var e,t,r,i=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)1&r?r=r>>>1^3988292384:r>>>=1;i[e]=r}return i}(),k.prototype.append=function(e,t){return e},k.prototype.flush=function(){},I.prototype=new x,I.prototype.constructor=I,A.prototype=new x,A.prototype.constructor=A,U.prototype=new x,U.prototype.constructor=U,T.prototype.getData=function(e){e(this.data)},L.prototype=new T,L.prototype.constructor=L,S.prototype=new T,S.prototype.constructor=S,B.prototype=new T,B.prototype.constructor=B;var K={Reader:x,Writer:T,BlobReader:U,Data64URIReader:A,TextReader:I,BlobWriter:B,Data64URIWriter:S,TextWriter:L,createReader:function(e,t,r){r=r||V,e.init((function(){D(e,t,r)}),r)},createWriter:function(e,t,r,i){r=r||V,i=!!i,e.init((function(){q(e,t,r,i)}),r)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null};for(var Z in K)m[Z]=K[Z];function W(e){return e?Array.prototype.slice.call(e):[]}function X(e,t){return!!t&&(t=t.toLowerCase(),Object.prototype.toString.call(e).toLowerCase()==="[object "+t+"]")}function G(e){return"function"==typeof e}function J(e){return"string"==typeof e}function Y(e){return X(e,"regexp")}function Q(e,t){return 0===e.indexOf(t)}var $={toArray:W,extend:function(e){var t=W(arguments);if(1==t.length)return e;t.shift();for(var r=0,i=t.length;r<i;r++)for(var n in t[r])t[r].hasOwnProperty(n)&&(e[n]=t[r][n]);return e},startWith:Q,isResouces:function(e){return Q(e,"resourceId:")},transKeyToMatchResourceMap:function(e){return"@"+e.replace("resourceId:0x","").toUpperCase()},castLogger:function(e,t){console.log(e+" cost: "+(Date.now()-t)+"ms")},isTypeOf:X,isArray:function(e){return X(e,"array")},isFunction:G,isString:J,isDefined:function(e){return!(void 0===e)},isObject:function(e){return"object"===r(e)},isReg:Y,isThisWhatYouNeed:function(e,t){return G(e)?e(t):J(e)?t.toLowerCase().indexOf(e.toLowerCase())>-1:!!Y(e)&&e.test(t.toLowerCase())}};function ee(e){if(!(e instanceof Blob))throw new Error("Invalid input, expect the first param to be a File/Blob.");if(!(this instanceof ee))return new ee(e);this.file=e}function te(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function re(e){return"array"===te(e)}function ie(e){return"object"===te(e)}function ne(e){return null===e||["boolean","number","string","undefined"].includes(te(e))}function ae(e){return"string"==typeof e&&(e=e.replace(/\u0000/g,"")),e}ee.prototype.destroy=function(){this.file=null},ee.prototype.getBuffer=function(t,r,i){if(!$.isArray(t)||!$.isFunction(i))return i(new Error("getBuffer: invalid param, expect first param to be an Array and the second param to be a callback function"));$.isFunction(r)&&(i=r,r={}),t=t.map((function(e){return"string"==typeof e&&(e=e.split("\0").join("")),e}));var n=r&&r.multiple||!1;this.getEntries((function(a,o){if(a)return i(a);var s={};o.forEach((function(e){return t.some((function(t){if($.isThisWhatYouNeed(t,e.filename)){if(n){var r={fileName:t,buffer:e};s[t]?s[t].push(r):s[t]=[r]}else s[t]=e;return!0}}))})),function(t,r,i){var n={},a=[],o=0;for(var s in t)a.push({name:s,entry:t[s]});a.length||i(null,{},a.length);function f(e,t){o++,n[e]=t}a.forEach((function(t){var s,u;s=t.name,u=t.entry,ee.getEntryData(u,(function(t,u){if(t)return i(t);"blob"===r.type?(f(s,u),o>=a.length&&i(null,n,a.length)):function(t,r){if("undefined"==typeof Blob||!(t instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof r)throw new Error("second argument must be a function");var i=new FileReader;i.addEventListener("loadend",(function t(n){i.removeEventListener("loadend",t,!1),n.error?r(n.error):r(null,new e.Buffer(i.result))}),!1),i.readAsArrayBuffer(t)}(u,(function(e,t){if(e)return console.error(e),i(e);f(s,t),o>=a.length&&i(null,n,a.length)}))}))}))}(s,r,(function(e,t){i(e,t,o.length)}))}))},ee.prototype.getEntries=function(e){m.createReader(new m.BlobReader(this.file),(function(t){t.getEntries((function(t){e(null,t,t.length)}))}),e)},ee.getEntryData=function(e,t){var r=new m.BlobWriter;e.getData(r,(function(r){t(null,r,e.length)}))};var oe=function(){function e(r){if(i(this,e),"undefined"==typeof process||"[object process]"!==Object.prototype.toString.call(process)){if(!(r instanceof window.Blob||void 0!==r.size))throw new Error("Param error: [file] must be an instance of Blob or File in browser.");this.file=r}else{if("string"!=typeof r)throw new Error("Param error: [file] must be file path in Node.");this.file=t.resolve(r)}this.unzip=new ee(this.file)}return a(e,[{key:"getEntries",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";return e=e.map((function(e){return ae(e)})),new Promise((function(i,n){t.unzip.getBuffer(e,{type:r},(function(e,t){e?n(e):i(t)}))}))}},{key:"getEntry",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";return e=ae(e),new Promise((function(i,n){t.unzip.getBuffer([e],{type:r},(function(t,r){t?n(t):i(r[e])}))}))}}]),e}(),se=1,fe=2,ue=4,he=0,le=1,ce=3,de=256,ge=257,be=258,pe=259,ve=260,ye=384,we=1,me=256,_e=1,ke=0,Ee=1,xe=4,Ie=5,Ae=3,Ue=0,Te=2,Le=5,Se=6,Be=18,ze=30,Ne=28,Oe=31,Fe=29,Re=16,Me=17,Ce=0,De=1,je=3,Pe=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.buffer=t,this.cursor=0,this.strings=[],this.resources=[],this.document=null,this.parent=null,this.stack=[],this.debug=r.debug||!1}return a(e,[{key:"readU8",value:function(){this.debug&&console.group("readU8"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer[this.cursor];return this.debug&&console.debug("value:",e),this.cursor+=1,this.debug&&console.groupEnd(),e}},{key:"readU16",value:function(){this.debug&&console.group("readU16"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readUInt16LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=2,this.debug&&console.groupEnd(),e}},{key:"readS32",value:function(){this.debug&&console.group("readS32"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readInt32LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=4,this.debug&&console.groupEnd(),e}},{key:"readU32",value:function(){this.debug&&console.group("readU32"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readUInt32LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=4,this.debug&&console.groupEnd(),e}},{key:"readLength8",value:function(){this.debug&&console.group("readLength8");var e=this.readU8();return 128&e&&(e=(127&e)<<8,e+=this.readU8()),this.debug&&console.debug("length:",e),this.debug&&console.groupEnd(),e}},{key:"readLength16",value:function(){this.debug&&console.group("readLength16");var e=this.readU16();return 32768&e&&(e=(32767&e)<<16,e+=this.readU16()),this.debug&&console.debug("length:",e),this.debug&&console.groupEnd(),e}},{key:"readDimension",value:function(){this.debug&&console.group("readDimension");var e={value:null,unit:null,rawUnit:null},t=this.readU32(),r=255&e.value;switch(e.value=t>>8,e.rawUnit=r,r){case Ie:e.unit="mm";break;case Ue:e.unit="px";break;case _e:e.unit="dp";break;case Te:e.unit="sp";break;case Ae:e.unit="pt";break;case xe:e.unit="in"}return this.debug&&console.groupEnd(),e}},{key:"readFraction",value:function(){this.debug&&console.group("readFraction");var e={value:null,type:null,rawType:null},t=this.readU32(),r=15&t;switch(e.value=this.convertIntToFloat(t>>4),e.rawType=r,r){case ke:e.type="%";break;case Ee:e.type="%p"}return this.debug&&console.groupEnd(),e}},{key:"readHex24",value:function(){this.debug&&console.group("readHex24");var e=(16777215&this.readU32()).toString(16);return this.debug&&console.groupEnd(),e}},{key:"readHex32",value:function(){this.debug&&console.group("readHex32");var e=this.readU32().toString(16);return this.debug&&console.groupEnd(),e}},{key:"readTypedValue",value:function(){this.debug&&console.group("readTypedValue");var e={value:null,type:null,rawType:null},t=this.cursor,r=this.readU16();this.readU8();var i=this.readU8();switch(0===r&&(r=8),e.rawType=i,i){case Re:e.value=this.readS32(),e.type="int_dec";break;case Me:e.value=this.readS32(),e.type="int_hex";break;case je:var n=this.readS32();e.value=n>0?this.strings[n]:"",e.type="string";break;case De:var a=this.readU32();e.value="resourceId:0x".concat(a.toString(16)),e.type="reference";break;case Be:e.value=0!==this.readS32(),e.type="boolean";break;case Ce:this.readU32(),e.value=null,e.type="null";break;case Fe:e.value=this.readHex24(),e.type="rgb8";break;case Oe:e.value=this.readHex24(),e.type="rgb4";break;case Ne:e.value=this.readHex32(),e.type="argb8";break;case ze:e.value=this.readHex32(),e.type="argb4";break;case Le:e.value=this.readDimension(),e.type="dimension";break;case Se:e.value=this.readFraction(),e.type="fraction";break;default:var o=i.toString(16);console.debug("Not sure what to do with typed value of type 0x".concat(o,", falling back to reading an uint32.")),e.value=this.readU32(),e.type="unknown"}var s=t+r;if(this.cursor!==s){var f=i.toString(16),u=s-this.cursor;console.debug("Cursor is off by ".concat(u," bytes at ").concat(this.cursor," at supposed end of typed value of type 0x").concat(f,". The typed value started at offset ").concat(t," and is supposed to end at offset ").concat(s,". Ignoring the rest of the value.")),this.cursor=s}return this.debug&&console.groupEnd(),e}},{key:"convertIntToFloat",value:function(e){var t=new ArrayBuffer(4);return new Int32Array(t)[0]=e,new Float32Array(t)[0]}},{key:"readString",value:function(e){switch(this.debug&&console.group("readString",e),e){case"utf-8":var t=this.readLength8(e);this.debug&&console.debug("stringLength:",t);var r=this.readLength8(e);this.debug&&console.debug("byteLength:",r);var i=this.buffer.toString(e,this.cursor,this.cursor+=r);return this.debug&&console.debug("value:",i),this.debug&&console.groupEnd(),i;case"ucs2":return t=this.readLength16(e),this.debug&&console.debug("stringLength:",t),r=2*t,this.debug&&console.debug("byteLength:",r),i=this.buffer.toString(e,this.cursor,this.cursor+=r),this.debug&&console.debug("value:",i),this.debug&&console.groupEnd(),i;default:throw new Error("Unsupported encoding '".concat(e,"'"))}}},{key:"readChunkHeader",value:function(){this.debug&&console.group("readChunkHeader");var e={startOffset:this.cursor,chunkType:this.readU16(),headerSize:this.readU16(),chunkSize:this.readU32()};return this.debug&&console.debug("startOffset:",e.startOffset),this.debug&&console.debug("chunkType:",e.chunkType),this.debug&&console.debug("headerSize:",e.headerSize),this.debug&&console.debug("chunkSize:",e.chunkSize),this.debug&&console.groupEnd(),e}},{key:"readStringPool",value:function(e){if(this.debug&&console.group("readStringPool"),e.stringCount=this.readU32(),this.debug&&console.debug("stringCount:",e.stringCount),e.styleCount=this.readU32(),this.debug&&console.debug("styleCount:",e.styleCount),e.flags=this.readU32(),this.debug&&console.debug("flags:",e.flags),e.stringsStart=this.readU32(),this.debug&&console.debug("stringsStart:",e.stringsStart),e.stylesStart=this.readU32(),this.debug&&console.debug("stylesStart:",e.stylesStart),e.chunkType!==le)throw new Error("Invalid string pool header");for(var t=[],r=0,i=e.stringCount;r<i;++r)this.debug&&console.debug("offset:",r),t.push(this.readU32());var n=(e.flags&we)===we;this.debug&&console.debug("sorted:",n);var a=(e.flags&me)===me?"utf-8":"ucs2";this.debug&&console.debug("encoding:",a);var o=e.startOffset+e.stringsStart;this.cursor=o;for(var s=0,f=e.stringCount;s<f;++s)this.debug&&console.debug("string:",s),this.debug&&console.debug("offset:",t[s]),this.cursor=o+t[s],this.strings.push(this.readString(a));return this.cursor=e.startOffset+e.chunkSize,this.debug&&console.groupEnd(),null}},{key:"readResourceMap",value:function(e){this.debug&&console.group("readResourceMap");for(var t=Math.floor((e.chunkSize-e.headerSize)/4),r=0;r<t;++r)this.resources.push(this.readU32());return this.debug&&console.groupEnd(),null}},{key:"readXmlNamespaceStart",value:function(){return this.debug&&console.group("readXmlNamespaceStart"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&&console.groupEnd(),null}},{key:"readXmlNamespaceEnd",value:function(){return this.debug&&console.group("readXmlNamespaceEnd"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&&console.groupEnd(),null}},{key:"readXmlElementStart",value:function(){this.debug&&console.group("readXmlElementStart");var e={namespaceURI:null,nodeType:se,nodeName:null,attributes:[],childNodes:[]};this.readU32(),this.readU32();var t=this.readS32(),r=this.readS32();t>0&&(e.namespaceURI=this.strings[t]),e.nodeName=this.strings[r],this.readU16(),this.readU16();var i=this.readU16();this.readU16(),this.readU16(),this.readU16();for(var n=0;n<i;++n)e.attributes.push(this.readXmlAttribute());return this.document?(this.parent.childNodes.push(e),this.parent=e):this.document=this.parent=e,this.stack.push(e),this.debug&&console.groupEnd(),e}},{key:"readXmlAttribute",value:function(){this.debug&&console.group("readXmlAttribute");var e={namespaceURI:null,nodeType:fe,nodeName:null,name:null,value:null,typedValue:null},t=this.readS32(),r=this.readS32(),i=this.readS32();return t>0&&(e.namespaceURI=this.strings[t]),e.nodeName=e.name=this.strings[r],i>0&&("versionName"===e.name&&(this.strings[i]=this.strings[i].replace(/[^\d\w-.]/g,"")),e.value=this.strings[i]),e.typedValue=this.readTypedValue(),this.debug&&console.groupEnd(),e}},{key:"readXmlElementEnd",value:function(){return this.debug&&console.group("readXmlCData"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.stack.pop(),this.parent=this.stack[this.stack.length-1],this.debug&&console.groupEnd(),null}},{key:"readXmlCData",value:function(){this.debug&&console.group("readXmlCData");var e={namespaceURI:null,nodeType:ue,nodeName:"#cdata",data:null,typedValue:null};this.readU32(),this.readU32();var t=this.readS32();return t>0&&(e.data=this.strings[t]),e.typedValue=this.readTypedValue(),this.parent.childNodes.push(e),this.debug&&console.groupEnd(),e}},{key:"readNull",value:function(e){return this.debug&&console.group("readNull"),this.cursor+=e.chunkSize-e.headerSize,this.debug&&console.groupEnd(),null}},{key:"parse",value:function(){if(this.debug&&console.group("BinaryXmlParser.parse"),this.readChunkHeader().chunkType!==ce)throw new Error("Invalid XML header");for(;this.cursor<this.buffer.length;){this.debug&&console.group("chunk");var e=this.cursor,t=this.readChunkHeader();switch(t.chunkType){case le:this.readStringPool(t);break;case ye:this.readResourceMap(t);break;case de:this.readXmlNamespaceStart(t);break;case ge:this.readXmlNamespaceEnd(t);break;case be:this.readXmlElementStart(t);break;case pe:this.readXmlElementEnd(t);break;case ve:this.readXmlCData(t);break;case he:this.readNull(t);break;default:throw new Error("Unsupported chunk type '".concat(t.chunkType,"'"))}var r=e+t.chunkSize;if(this.cursor!==r){var i=r-this.cursor,n=t.chunkType.toString(16);console.debug("Cursor is off by ".concat(i," bytes at ").concat(this.cursor," at supposed end of chunk of type 0x").concat(n,". The chunk started at offset ").concat(e," and is supposed to end at offset ").concat(r,". Ignoring the rest of the chunk.")),this.cursor=r}this.debug&&console.groupEnd()}return this.debug&&console.groupEnd(),this.document}}]),e}(),qe=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.buffer=t,this.xmlParser=new Pe(this.buffer,r)}return a(e,[{key:"collapseAttributes",value:function(e){for(var t=Object.create(null),r=0,i=Array.from(e.attributes);r<i.length;r++){var n=i[r];t[n.name]=n.typedValue.value}return t}},{key:"parseIntents",value:function(e,t){var r=this;return t.intentFilters=[],t.metaData=[],e.childNodes.forEach((function(e){switch(e.nodeName){case"intent-filter":var i=r.collapseAttributes(e);i.actions=[],i.categories=[],i.data=[],e.childNodes.forEach((function(e){switch(e.nodeName){case"action":i.actions.push(r.collapseAttributes(e));break;case"category":i.categories.push(r.collapseAttributes(e));break;case"data":i.data.push(r.collapseAttributes(e))}})),t.intentFilters.push(i);break;case"meta-data":t.metaData.push(r.collapseAttributes(e))}}))}},{key:"parseApplication",value:function(e){var t=this,r=this.collapseAttributes(e);return r.activities=[],r.activityAliases=[],r.launcherActivities=[],r.services=[],r.receivers=[],r.providers=[],r.usesLibraries=[],r.metaData=[],e.childNodes.forEach((function(e){switch(e.nodeName){case"activity":var i=t.collapseAttributes(e);t.parseIntents(e,i),r.activities.push(i),t.isLauncherActivity(i)&&r.launcherActivities.push(i);break;case"activity-alias":var n=t.collapseAttributes(e);t.parseIntents(e,n),r.activityAliases.push(n),t.isLauncherActivity(n)&&r.launcherActivities.push(n);break;case"service":var a=t.collapseAttributes(e);t.parseIntents(e,a),r.services.push(a);break;case"receiver":var o=t.collapseAttributes(e);t.parseIntents(e,o),r.receivers.push(o);break;case"provider":var s=t.collapseAttributes(e);s.grantUriPermissions=[],s.metaData=[],s.pathPermissions=[],e.childNodes.forEach((function(e){switch(e.nodeName){case"grant-uri-permission":s.grantUriPermissions.push(t.collapseAttributes(e));break;case"meta-data":s.metaData.push(t.collapseAttributes(e));break;case"path-permission":s.pathPermissions.push(t.collapseAttributes(e))}})),r.providers.push(s);break;case"uses-library":r.usesLibraries.push(t.collapseAttributes(e));break;case"meta-data":r.metaData.push(t.collapseAttributes(e))}})),r}},{key:"isLauncherActivity",value:function(e){return e.intentFilters.some((function(e){return!!e.actions.some((function(e){return"android.intent.action.MAIN"===e.name}))&&e.categories.some((function(e){return"android.intent.category.LAUNCHER"===e.name}))}))}},{key:"parse",value:function(){var e=this,t=this.xmlParser.parse(),r=this.collapseAttributes(t);return r.usesPermissions=[],r.usesPermissionsSDK23=[],r.permissions=[],r.permissionTrees=[],r.permissionGroups=[],r.instrumentation=null,r.usesSdk=null,r.usesConfiguration=null,r.usesFeatures=[],r.supportsScreens=null,r.compatibleScreens=[],r.supportsGlTextures=[],r.application=Object.create(null),t.childNodes.forEach((function(t){switch(t.nodeName){case"uses-permission":r.usesPermissions.push(e.collapseAttributes(t));break;case"uses-permission-sdk-23":r.usesPermissionsSDK23.push(e.collapseAttributes(t));break;case"permission":r.permissions.push(e.collapseAttributes(t));break;case"permission-tree":r.permissionTrees.push(e.collapseAttributes(t));break;case"permission-group":r.permissionGroups.push(e.collapseAttributes(t));break;case"instrumentation":r.instrumentation=e.collapseAttributes(t);break;case"uses-sdk":r.usesSdk=e.collapseAttributes(t);break;case"uses-configuration":r.usesConfiguration=e.collapseAttributes(t);break;case"uses-feature":r.usesFeatures.push(e.collapseAttributes(t));break;case"supports-screens":r.supportsScreens=e.collapseAttributes(t);break;case"compatible-screens":t.childNodes.forEach((function(t){return r.compatibleScreens.push(e.collapseAttributes(t))}));break;case"supports-gl-texture":r.supportsGlTextures.push(e.collapseAttributes(t));break;case"application":r.application=e.parseApplication(t)}})),r}}]),e}(),He="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ke,Ze={exports:{}},We={exports:{}};!function(e){
/**
  	 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
  	 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
  	 * Released under the Apache License, Version 2.0
  	 * see: https://github.com/dcodeIO/bytebuffer.js for details
  	 */
!function(t,r){e&&e.exports?e.exports=function(){var e;try{Ke||(Ke=1,function(e){
/**
  		 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
  		 * Released under the Apache License, Version 2.0
  		 * see: https://github.com/dcodeIO/long.js for details
  		 */
!function(t,r){e&&e.exports?e.exports=r():(t.dcodeIO=t.dcodeIO||{}).Long=r()}(He,(function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var r={},i={};function n(e,t){var n,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=i[e])?a:(n=o(e,(0|e)<0?-1:0,!0),s&&(i[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(n=o(e,e<0?-1:0,!1),s&&(r[e]=n),n)}function a(e,t){if(isNaN(e)||!isFinite(e))return t?b:g;if(t){if(e<0)return b;if(e>=l)return m}else{if(e<=-c)return _;if(e+1>=c)return w}return e<0?a(-e,t).neg():o(e%h|0,e/h|0,t)}function o(t,r,i){return new e(t,r,i)}e.fromInt=n,e.fromNumber=a,e.fromBits=o;var s=Math.pow;function f(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return f(e.substring(1),t,r).neg();for(var n=a(s(r,8)),o=g,u=0;u<e.length;u+=8){var h=Math.min(8,e.length-u),l=parseInt(e.substring(u,u+h),r);if(h<8){var c=a(s(r,h));o=o.mul(c).add(a(l))}else o=(o=o.mul(n)).add(a(l))}return o.unsigned=t,o}function u(t){return t instanceof e?t:"number"==typeof t?a(t):"string"==typeof t?f(t):o(t.low,t.high,t.unsigned)}e.fromString=f,e.fromValue=u;var h=4294967296,l=h*h,c=l/2,d=n(1<<24),g=n(0);e.ZERO=g;var b=n(0,!0);e.UZERO=b;var p=n(1);e.ONE=p;var v=n(1,!0);e.UONE=v;var y=n(-1);e.NEG_ONE=y;var w=o(-1,2147483647,!1);e.MAX_VALUE=w;var m=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=m;var _=o(0,-2147483648,!1);e.MIN_VALUE=_;var k=e.prototype;return k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=a(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var n=a(s(e,6),this.unsigned),o=this,f="";;){var u=o.div(n),h=(o.sub(u.mul(n)).toInt()>>>0).toString(e);if((o=u).isZero())return h+f;for(;h.length<6;)h="0"+h;f=""+h+f}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(e){return t(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.compare=function(e){if(t(e)||(e=u(e)),this.eq(e))return 0;var r=this.isNegative(),i=e.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(p)},k.neg=k.negate,k.add=function(e){t(e)||(e=u(e));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,a=65535&this.low,s=e.high>>>16,f=65535&e.high,h=e.low>>>16,l=0,c=0,d=0,g=0;return d+=(g+=a+(65535&e.low))>>>16,c+=(d+=n+h)>>>16,l+=(c+=i+f)>>>16,l+=r+s,o((d&=65535)<<16|(g&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},k.subtract=function(e){return t(e)||(e=u(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(t(e)||(e=u(e)),e.isZero())return g;if(this.eq(_))return e.isOdd()?_:g;if(e.eq(_))return this.isOdd()?_:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,f=e.high>>>16,h=65535&e.high,l=e.low>>>16,c=65535&e.low,b=0,p=0,v=0,y=0;return v+=(y+=s*c)>>>16,p+=(v+=n*c)>>>16,v&=65535,p+=(v+=s*l)>>>16,b+=(p+=i*c)>>>16,p&=65535,b+=(p+=n*l)>>>16,p&=65535,b+=(p+=s*h)>>>16,b+=r*c+i*l+n*h+s*f,o((v&=65535)<<16|(y&=65535),(b&=65535)<<16|(p&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(t(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?b:g;var r,i,n;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;n=b}else{if(this.eq(_))return e.eq(p)||e.eq(y)?_:e.eq(_)?p:(r=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?p:y:(i=this.sub(e.mul(r)),n=r.add(i.div(e)));if(e.eq(_))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=g}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),f=o<=48?1:s(2,o-48),h=a(r),l=h.mul(e);l.isNegative()||l.gt(i);)l=(h=a(r-=f,this.unsigned)).mul(e);h.isZero()&&(h=p),n=n.add(h),i=i.sub(l)}return n},k.div=k.divide,k.modulo=function(e){return t(e)||(e=u(e)),this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.not=function(){return o(~this.low,~this.high,this.unsigned)},k.and=function(e){return t(e)||(e=u(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return t(e)||(e=u(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return t(e)||(e=u(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var r=this.high;return e<32?o(this.low>>>e|r<<32-e,r>>>e,this.unsigned):o(32===e?r:r>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}))}(We)),e=We.exports}catch(e){}return r(e)}():(t.dcodeIO=t.dcodeIO||{}).ByteBuffer=r(t.dcodeIO.Long)}(He,(function(e){var t=function(e,r,n){if(void 0===e&&(e=t.DEFAULT_CAPACITY),void 0===r&&(r=t.DEFAULT_ENDIAN),void 0===n&&(n=t.DEFAULT_NOASSERT),!n){if((e|=0)<0)throw RangeError("Illegal capacity");r=!!r,n=!!n}this.buffer=0===e?i:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=r,this.noAssert=n};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var r=t.prototype;r.__isByteBuffer__,Object.defineProperty(r,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var i=new ArrayBuffer(0),n=String.fromCharCode;function a(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function o(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+n.apply(String,e);e.length+arguments.length>1024&&(t.push(n.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function s(e,t,r,i,n){var a,o,s=8*n-i-1,f=(1<<s)-1,u=f>>1,h=-7,l=r?n-1:0,c=r?-1:1,d=e[t+l];for(l+=c,a=d&(1<<-h)-1,d>>=-h,h+=s;h>0;a=256*a+e[t+l],l+=c,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=i;h>0;o=256*o+e[t+l],l+=c,h-=8);if(0===a)a=1-u;else{if(a===f)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=u}return(d?-1:1)*o*Math.pow(2,a-i)}function f(e,t,r,i,n,a){var o,s,f,u=8*a-n-1,h=(1<<u)-1,l=h>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,g=i?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),(t+=o+l>=1?c/f:c*Math.pow(2,1-l))*f>=2&&(o++,f/=2),o+l>=h?(s=0,o=h):o+l>=1?(s=(t*f-1)*Math.pow(2,n),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,n),o=0));n>=8;e[r+d]=255&s,d+=g,s/=256,n-=8);for(o=o<<n|s,u+=n;u>0;e[r+d]=255&o,d+=g,o/=256,u-=8);e[r+d-g]|=128*b}t.accessor=function(){return Uint8Array},t.allocate=function(e,r,i){return new t(e,r,i)},t.concat=function(e,r,i,n){"boolean"!=typeof r&&"string"==typeof r||(n=i,i=r,r=void 0);for(var a,o=0,s=0,f=e.length;s<f;++s)t.isByteBuffer(e[s])||(e[s]=t.wrap(e[s],r)),(a=e[s].limit-e[s].offset)>0&&(o+=a);if(0===o)return new t(0,i,n);var u,h=new t(o,i,n);for(s=0;s<f;)(a=(u=e[s++]).limit-u.offset)<=0||(h.view.set(u.view.subarray(u.offset,u.limit),h.offset),h.offset+=a);return h.limit=h.offset,h.offset=0,h},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,i,n,a){if("string"!=typeof i&&(a=n,n=i,i=void 0),"string"==typeof e)switch(void 0===i&&(i="utf8"),i){case"base64":return t.fromBase64(e,n);case"hex":return t.fromHex(e,n);case"binary":return t.fromBinary(e,n);case"utf8":return t.fromUTF8(e,n);case"debug":return t.fromDebug(e,n);default:throw Error("Unsupported encoding: "+i)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var o;if(t.isByteBuffer(e))return(o=r.clone.call(e)).markedOffset=-1,o;if(e instanceof Uint8Array)o=new t(0,n,a),e.length>0&&(o.buffer=e.buffer,o.offset=e.byteOffset,o.limit=e.byteOffset+e.byteLength,o.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)o=new t(0,n,a),e.byteLength>0&&(o.buffer=e,o.offset=0,o.limit=e.byteLength,o.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(o=new t(e.length,n,a)).limit=e.length;for(var s=0;s<e.length;++s)o.view[s]=e[s]}return o},r.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t,a=e.length,o=a>>3,s=0;for(t+=this.writeVarint32(a,t);o--;)i=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(i,t++);if(s<a){var f=0;for(i=0;s<a;)i|=(1&!!e[s++])<<f++;this.writeByte(i,t++)}return r?(this.offset=t,this):t-n},r.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,i=this.readVarint32(e),n=i.value,a=n>>3,o=0,s=[];for(e+=i.length;a--;)r=this.readByte(e++),s[o++]=!!(1&r),s[o++]=!!(2&r),s[o++]=!!(4&r),s[o++]=!!(8&r),s[o++]=!!(16&r),s[o++]=!!(32&r),s[o++]=!!(64&r),s[o++]=!!(128&r);if(o<n){var f=0;for(r=this.readByte(e++);o<n;)s[o++]=!!(r>>f++&1)}return t&&(this.offset=e),s},r.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return r&&(this.offset+=e),i},r.writeBytes=r.append,r.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeByte=r.writeInt8,r.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return 128==(128&r)&&(r=-(255-r+1)),t&&(this.offset+=1),r},r.readByte=r.readInt8,r.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},r.writeUInt8=r.writeUint8,r.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},r.readUInt8=r.readUint8,r.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeShort=r.writeInt16,r.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768==(32768&r)&&(r=-(65535-r+1)),t&&(this.offset+=2),r},r.readShort=r.readInt16,r.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},r.writeUInt16=r.writeUint16,r.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},r.readUInt16=r.readUint16,r.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeInt=r.writeInt32,r.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},r.readInt=r.readInt32,r.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},r.writeUInt32=r.writeUint32,r.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},r.readUInt32=r.readUint32,e&&(r.writeInt64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var a=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a),i&&(this.offset+=8),this},r.writeLong=r.writeInt64,r.readInt64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var a=new e(i,n,!1);return r&&(this.offset+=8),a},r.readLong=r.readInt64,r.writeUint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var a=t.low,o=t.high;return this.littleEndian?(this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a),i&&(this.offset+=8),this},r.writeUInt64=r.writeUint64,r.readUint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var a=new e(i,n,!0);return r&&(this.offset+=8),a},r.readUInt64=r.readUint64),r.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,f(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},r.writeFloat=r.writeFloat32,r.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=s(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},r.readFloat=r.readFloat32,r.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,f(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},r.writeDouble=r.writeFloat64,r.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=s(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},r.readDouble=r.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},r.writeVarint32=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,a=t.calculateVarint32(e);r+=a;var o=this.buffer.byteLength;for(r>o&&this.resize((o*=2)>r?o:r),r-=a,e>>>=0;e>=128;)n=127&e|128,this.view[r++]=n,e>>>=7;return this.view[r++]=e,i?(this.offset=r,this):a},r.writeVarint32ZigZag=function(e,r){return this.writeVarint32(t.zigZagEncode32(e),r)},r.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&e>this.limit){var a=Error("Truncated");throw a.truncated=!0,a}r=this.view[e++],i<5&&(n|=(127&r)<<7*i),++i}while(0!=(128&r));return n|=0,t?(this.offset=e,n):{value:n,length:i}},r.readVarint32ZigZag=function(e){var r=this.readVarint32(e);return"object"==typeof r?r.value=t.zigZagDecode32(r.value):r=t.zigZagDecode32(r),r},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var r=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},r.writeVarint64=function(r,i){var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"==typeof r)r=e.fromNumber(r);else if("string"==typeof r)r=e.fromString(r);else if(!(r&&r instanceof e))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof r?r=e.fromNumber(r,!1):"string"==typeof r?r=e.fromString(r,!1):!1!==r.unsigned&&(r=r.toSigned());var a=t.calculateVarint64(r),o=r.toInt()>>>0,s=r.shiftRightUnsigned(28).toInt()>>>0,f=r.shiftRightUnsigned(56).toInt()>>>0;i+=a;var u=this.buffer.byteLength;switch(i>u&&this.resize((u*=2)>i?u:i),i-=a,a){case 10:this.view[i+9]=f>>>7&1;case 9:this.view[i+8]=9!==a?128|f:127&f;case 8:this.view[i+7]=8!==a?s>>>21|128:s>>>21&127;case 7:this.view[i+6]=7!==a?s>>>14|128:s>>>14&127;case 6:this.view[i+5]=6!==a?s>>>7|128:s>>>7&127;case 5:this.view[i+4]=5!==a?128|s:127&s;case 4:this.view[i+3]=4!==a?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==a?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==a?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==a?128|o:127&o}return n?(this.offset+=a,this):a},r.writeVarint64ZigZag=function(e,r){return this.writeVarint64(t.zigZagEncode64(e),r)},r.readVarint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,a=0,o=0,s=0;if(n=127&(s=this.view[t++]),128&s&&(n|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(n|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(a=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var f=e.fromBits(n|a<<28,a>>>4|o<<24,!1);return r?(this.offset=t,f):{value:f,length:t-i}},r.readVarint64ZigZag=function(r){var i=this.readVarint64(r);return i&&i.value instanceof e?i.value=t.zigZagDecode64(i.value):i=t.zigZagDecode64(i),i}),r.writeCString=function(e,t){var r=void 0===t;r&&(t=this.offset);var i,n=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}n=h.calculateUTF16asUTF8(a(e))[1],t+=n+1;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=n+1,h.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,r?(this.offset=t,this):n},r.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=e,n=-1;return h.decodeUTF8toUTF16(function(){if(0===n)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(n=this.view[e++])?null:n}.bind(this),r=o(),!0),t?(this.offset=e,r()):{string:r(),length:e-i}},r.writeIString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t;i=h.calculateUTF16asUTF8(a(e),this.noAssert)[1],t+=4+i;var o=this.buffer.byteLength;if(t>o&&this.resize((o*=2)>t?o:t),t-=4+i,this.littleEndian?(this.view[t+3]=i>>>24&255,this.view[t+2]=i>>>16&255,this.view[t+1]=i>>>8&255,this.view[t]=255&i):(this.view[t]=i>>>24&255,this.view[t+1]=i>>>16&255,this.view[t+2]=i>>>8&255,this.view[t+3]=255&i),t+=4,h.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),t!==n+4+i)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+i));return r?(this.offset=t,this):t-n},r.readIString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=e,n=this.readUint32(e),a=this.readUTF8String(n,t.METRICS_BYTES,e+=4);return e+=a.length,r?(this.offset=e,a.string):{string:a.string,length:e-i}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",r.writeUTF8String=function(e,t){var r,i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n=t;r=h.calculateUTF16asUTF8(a(e))[1],t+=r;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=r,h.encodeUTF16toUTF8(a(e),function(e){this.view[t++]=e}.bind(this)),i?(this.offset=t,this):t-n},r.writeString=r.writeUTF8String,t.calculateUTF8Chars=function(e){return h.calculateUTF16asUTF8(a(e))[0]},t.calculateUTF8Bytes=function(e){return h.calculateUTF16asUTF8(a(e))[1]},t.calculateString=t.calculateUTF8Bytes,r.readUTF8String=function(e,r,i){"number"==typeof r&&(i=r,r=void 0);var n=void 0===i;if(n&&(i=this.offset),void 0===r&&(r=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var a,s=0,f=i;if(r===t.METRICS_CHARS){if(a=o(),h.decodeUTF8(function(){return s<e&&i<this.limit?this.view[i++]:null}.bind(this),(function(e){++s,h.UTF8toUTF16(e,a)})),s!==e)throw RangeError("Illegal range: Truncated data, "+s+" == "+e);return n?(this.offset=i,a()):{string:a(),length:i-f}}if(r===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(h.decodeUTF8toUTF16(function(){return i<u?this.view[i++]:null}.bind(this),a=o(),this.noAssert),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return n?(this.offset=i,a()):{string:a(),length:i-f}}throw TypeError("Unsupported metrics: "+r)},r.readString=r.readUTF8String,r.writeVString=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,o,s=r;n=h.calculateUTF16asUTF8(a(e),this.noAssert)[1],o=t.calculateVarint32(n),r+=o+n;var f=this.buffer.byteLength;if(r>f&&this.resize((f*=2)>r?f:r),r-=o+n,r+=this.writeVarint32(n,r),h.encodeUTF16toUTF8(a(e),function(e){this.view[r++]=e}.bind(this)),r!==s+n+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+n+o));return i?(this.offset=r,this):r-s},r.readVString=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=e,n=this.readVarint32(e),a=this.readUTF8String(n.value,t.METRICS_BYTES,e+=n.length);return e+=a.length,r?(this.offset=e,a.string):{string:a.string,length:e-i}},r.append=function(e,r,i){"number"!=typeof r&&"string"==typeof r||(i=r,r=void 0);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var a=e.limit-e.offset;if(a<=0)return this;i+=a;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=a,this.view.set(e.view.subarray(e.offset,e.limit),i),e.offset+=a,n&&(this.offset+=a),this},r.appendTo=function(e,t){return e.append(this,t),this},r.assert=function(e){return this.noAssert=!e,this},r.capacity=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},r.clone=function(e){var r=new t(0,this.littleEndian,this.noAssert);return e?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.markedOffset=this.markedOffset,r.limit=this.limit,r},r.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=i,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(r),a=new Uint8Array(n);return a.set(this.view.subarray(e,t)),this.buffer=n,this.view=a,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=r,this},r.copy=function(e,r){if(void 0===e&&(e=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e===r)return new t(0,this.littleEndian,this.noAssert);var i=r-e,n=new t(i,this.littleEndian,this.noAssert);return n.offset=0,n.limit=i,n.markedOffset>=0&&(n.markedOffset-=e),this.copyTo(n,0,e,r),n},r.copyTo=function(e,r,i,n){var a,o;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(o=void 0===r)?e.offset:0|r,i=(a=void 0===i)?this.offset:0|i,n=void 0===n?this.limit:0|n,r<0||r>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+e.buffer.byteLength);if(i<0||n>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var s=n-i;return 0===s?e:(e.ensureCapacity(r+s),e.view.set(this.view.subarray(i,n),r),a&&(this.offset+=s),o&&(e.offset+=s),this)},r.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},r.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view[t++]=e;return i&&(this.offset=t),this},r.flip=function(){return this.limit=this.offset,this.offset=0,this},r.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},r.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},r.LE=function(e){return this.littleEndian=void 0===e||!!e,this},r.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},r.prepend=function(e,r,i){"number"!=typeof r&&"string"==typeof r||(i=r,r=void 0);var n=void 0===i;if(n&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,r));var a=e.limit-e.offset;if(a<=0)return this;var o=a-i;if(o>0){var s=new ArrayBuffer(this.buffer.byteLength+o),f=new Uint8Array(s);f.set(this.view.subarray(i,this.buffer.byteLength),a),this.buffer=s,this.view=f,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),i-a),e.offset=e.limit,n&&(this.offset-=a),this},r.prependTo=function(e,t){return e.prepend(this,t),this},r.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},r.remaining=function(){return this.limit-this.offset},r.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},r.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},r.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},r.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},r.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},r.toBuffer=function(e){var t=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return i;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},r.toArrayBuffer=r.toBuffer,r.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(r=t=e="utf8"),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var u=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(r(t[63&((n|=i>>4&15)|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){var i,n,a;function o(e){throw Error("Illegal character code: "+e)}for(;null!==(i=e());)if(void 0===(n=r[i])&&o(i),null!==(i=e())&&(void 0===(a=r[i])&&o(i),t(n<<2>>>0|(48&a)>>4),null!==(i=e()))){if(void 0===(n=r[i])){if(61===i)break;o(i)}if(t((15&a)<<4>>>0|(60&n)>>2),null!==(i=e())){if(void 0===(a=r[i])){if(61===i)break;o(i)}t((3&n)<<6>>>0|a)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();r.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return u.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=o()),r()},t.fromBase64=function(e,r){if("string"!=typeof e)throw TypeError("str");var i=new t(e.length/4*3,r),n=0;return u.decode(a(e),(function(e){i.view[n++]=e})),i.limit=n,i},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},r.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view[e++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},t.fromBinary=function(e,r){if("string"!=typeof e)throw TypeError("str");for(var i,n=0,a=e.length,o=new t(a,r);n<a;){if((i=e.charCodeAt(n))>255)throw RangeError("illegal char code: "+i);o.view[n++]=i}return o.limit=a,o},r.toDebug=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",a="",o="";r<i;){if(-1!==r&&(n+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(a+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+a+"\n",n=a=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+a+"\n"}return e?o:n},t.fromDebug=function(e,r,i){for(var n,a,o=e.length,s=new t((o+1)/3|0,r,i),f=0,u=0,h=!1,l=!1,c=!1,d=!1,g=!1;f<o;){switch(n=e.charAt(f++)){case"!":if(!i){if(l||c||d){g=!0;break}l=c=d=!0}s.offset=s.markedOffset=s.limit=u,h=!1;break;case"|":if(!i){if(l||d){g=!0;break}l=d=!0}s.offset=s.limit=u,h=!1;break;case"[":if(!i){if(l||c){g=!0;break}l=c=!0}s.offset=s.markedOffset=u,h=!1;break;case"<":if(!i){if(l){g=!0;break}l=!0}s.offset=u,h=!1;break;case"]":if(!i){if(d||c){g=!0;break}d=c=!0}s.limit=s.markedOffset=u,h=!1;break;case">":if(!i){if(d){g=!0;break}d=!0}s.limit=u,h=!1;break;case"'":if(!i){if(c){g=!0;break}c=!0}s.markedOffset=u,h=!1;break;case" ":h=!1;break;default:if(!i&&h){g=!0;break}if(a=parseInt(n+e.charAt(f++),16),!i&&(isNaN(a)||a<0||a>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[u++]=a,h=!0}if(g)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!i){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(u<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return s},r.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)(r=this.view[e++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},t.fromHex=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var n,a=e.length,o=new t(a/2|0,r),s=0,f=0;s<a;s+=2){if(n=parseInt(e.substring(s,s+2),16),!i&&(!isFinite(n)||n<0||n>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[f++]=n}return o.limit=f,o};var h=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,i,n,a,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(a=e()))&&o([r,i,n,a]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&a)}},UTF16toUTF8:function(e,t){for(var r,i=null;null!==(r=null!==i?i:e());)r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r);null!==i&&t(i)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},decodeUTF8toUTF16:function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},calculateUTF16asUTF8:function(t){var r=0,i=0;return e.UTF16toUTF8(t,(function(e){++r,i+=e<128?1:e<2048?2:e<65536?3:4})),[r,i]}};return e}();return r.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{h.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=o())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},t.fromUTF8=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var n=new t(h.calculateUTF16asUTF8(a(e),!0)[1],r,i),o=0;return h.encodeUTF16toUTF8(a(e),(function(e){n.view[o++]=e})),n.limit=o,n},t}))}(Ze);var Xe=Ve(Ze.exports);function Ge(){this.valueStringPool=null,this.typeStringPool=null,this.keyStringPool=null,this.package_id=0,this.responseMap={},this.entryMap={}}Ge.readBytes=function(e,t){for(var r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.readUint8();return Xe.wrap(r,"binary",!0)},Ge.prototype.processResourceTable=function(e){var t,r,i=Xe.wrap(e,"binary",!0),n=i.readShort(),a=i.readShort(),o=i.readInt(),s=i.readInt();if(2!=n)throw new Error("No RES_TABLE_TYPE found!");if(o!=i.limit)throw new Error("The buffer size not matches to the resource table size.");i.offset=a;for(var f=0,u=0;;){var h,l,c;try{h=i.offset,l=i.readShort(),i.readShort(),c=i.readInt()}catch(e){break}if(1==l)0==f&&(t=new Xe(c),i.offset=h,i.prependTo(t),(r=Xe.wrap(t,"binary",!0)).LE(),this.valueStringPool=this.processStringPool(r)),f++;else{if(512!=l)throw new Error("Unsupported type");t=new Xe(c),i.offset=h,i.prependTo(t),(r=Xe.wrap(t,"binary",!0)).LE(),this.processPackage(r),u++}if(i.offset=h+c,!i.remaining())break}if(1!=f)throw new Error("More than 1 string pool found!");if(u!=s)throw new Error("Real package count not equals the declared count.");return this.responseMap},Ge.prototype.processPackage=function(e){e.readShort();var t=e.readShort();e.readInt();var r=e.readInt();this.package_id=r;for(var i=0;i<256;++i)e.readUint8();var n=e.readInt();e.readInt();var a=e.readInt();if(e.readInt(),n!=t)throw new Error("TypeStrings must immediately following the package structure header.");var o=e.offset;e.offset=n;var s=Ge.readBytes(e,e.limit-e.offset);e.offset=o,this.typeStringPool=this.processStringPool(s),e.offset=a,e.readShort(),e.readShort();var f=e.readInt();o=e.offset,e.offset=a;var u,h=Ge.readBytes(e,e.limit-e.offset);for(e.offset=o,this.keyStringPool=this.processStringPool(h),e.offset=a+f;;){var l=e.offset;try{var c=e.readShort(),d=(e.readShort(),e.readInt())}catch(e){break}if(514==c?(e.offset=l,u=Ge.readBytes(e,d),this.processTypeSpec(u)):513==c&&(e.offset=l,u=Ge.readBytes(e,d),this.processType(u)),0==d)break;if(e.offset=l+d,!e.remaining())break}},Ge.prototype.processType=function(e){e.readShort();var t=e.readShort();e.readInt();var r=e.readByte();e.readByte(),e.readShort();var i=e.readInt(),n=e.readInt(),a={};if(e.readInt(),e.offset=t,t+4*i!=n)throw new Error("HeaderSize, entryCount and entriesStart are not valid.");for(var o=new Array(i),s=0;s<i;++s)o[s]=e.readInt();for(s=0;s<i;++s)if(-1!=o[s]){var f,u,h,l,c=this.package_id<<24|r<<16|s;e.offset;try{e.readShort(),f=e.readShort(),u=e.readInt()}catch(e){break}if(0==(1&f)){e.readShort(),e.readByte(),h=e.readByte(),l=e.readInt();var d=Number(c).toString(16),g=this.keyStringPool[u],b=null,p=parseInt(d,16),v=this.entryMap[p];null==v&&(v=[]),v.push(g),this.entryMap[p]=v,3==h?b=this.valueStringPool[l]:1==h?(Number(l).toString(16),a[d]=l):b=""+l,this.putIntoMap("@"+d,b)}else{e.readInt();for(var y=e.readInt(),w=0;w<y;++w)e.readInt(),e.readShort(),e.readByte(),h=e.readByte(),l=e.readInt()}}for(var m in a){var _=this.responseMap["@"+Number(a[m]).toString(16).toUpperCase()];if(null!=_&&Object.keys(_).length<1e3)for(var k in _)this.putIntoMap("@"+m,_[k])}},Ge.prototype.processStringPool=function(e){e.readShort(),e.readShort(),e.readInt();var t=e.readInt();e.readInt();var r,i,n=e.readInt(),a=e.readInt();e.readInt();for(var o=0!=(256&n),s=new Array(t),f=0;f<t;++f)s[f]=e.readInt();var u=new Array(t);for(f=0;f<t;++f){var h=a+s[f];if(e.offset=h,u[f]="",o){0!=(128&(r=e.readUint8()))&&(r=((127&r)<<8)+e.readUint8());var l=e.readUint8();if(0!=(128&l)&&(l=((127&l)<<8)+e.readUint8()),l>0){i=Ge.readBytes(e,l);try{u[f]=Xe.wrap(i,"utf8",!0).toString("utf8")}catch(e){}}else u[f]=""}else if(0!=(32768&(r=e.readUint16()))&&(r=((32767&r)<<16)+e.readUint16()),r>0){var c=2*r;i=Ge.readBytes(e,c);try{u[f]=Xe.wrap(i,"utf8",!0).toString("utf8")}catch(e){}}}return u},Ge.prototype.processTypeSpec=function(e){e.readShort(),e.readShort(),e.readInt(),e.readByte(),e.readByte(),e.readShort();for(var t=e.readInt(),r=new Array(t),i=0;i<t;++i)r[i]=e.readInt()},Ge.prototype.putIntoMap=function(e,t){null==this.responseMap[e.toUpperCase()]&&(this.responseMap[e.toUpperCase()]=[]),t&&this.responseMap[e.toUpperCase()].push(t)};var Je=/^androidmanifest\.xml$/,Ye=/^resources\.arsc$/,Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(r,e);var t=h(r);function r(e){var n;return i(this,r),f(n=t.call(this,e))instanceof r?n:u(n,new r(e))}return a(r,[{key:"parse",value:function(){var e=this;return new Promise((function(t,r){e.getEntries([Je,Ye]).then((function(r){if(!r[Je])throw new Error("AndroidManifest.xml can't be found.");var i,n=e._parseManifest(r[Je]);if(r[Ye]){i=e._parseResourceMap(r[Ye]),n=function(e,t){return r(e),e;function r(e){for(var o in e)re(e[o])?i(e[o]):ie(e[o])?r(e[o]):ne(e[o])&&n(e[o])&&(e[o]=t[a(e[o])])}function i(e){for(var o=e.length,s=0;s<o;s++)re(e[s])?i(e[s]):ie(e[s])?r(e[s]):ne(e[s])&&n(e[s])&&(e[s]=t[a(e[s])])}function n(e){return!!e&&("string"!=typeof e&&(e=e.toString()),0===e.indexOf("resourceId:"))}function a(e){return"@"+e.replace("resourceId:0x","").toUpperCase()}}(n,i);var a=function(e){if(!e.application.icon||!e.application.icon.splice)return"";var t={mdpi:48,hdpi:72,xhdpi:96,xxdpi:144,xxxhdpi:192},r={},i={dpi:120,icon:""},n=function(n){e.application.icon.some((function(e){if(e&&-1!==e.indexOf(n))return r["application-icon-"+t[n]]=e,!0})),r["application-icon-"+t[n]]&&t[n]>=i.dpi&&(i.dpi=t[n],i.icon=r["application-icon-"+t[n]])};for(var a in t)n(a);return 0!==Object.keys(r).length&&i.icon||(i.dpi=120,i.icon=e.application.icon[0]||"",r["applicataion-icon-120"]=i.icon),i.icon}(n);a?e.getEntry(a).then((function(e){n.icon=e?function(e){return"data:image/png;base64,"+e.toString("base64")}(e):null,t(n)})).catch((function(e){n.icon=null,t(n),console.warn("[Warning] failed to parse icon: ",e)})):(n.icon=null,t(n))}else t(n)})).catch((function(e){r(e)}))}))}},{key:"_parseManifest",value:function(e){try{return new qe(e,{ignore:["application.activity","application.service","application.receiver","application.provider","permission-group"]}).parse()}catch(e){throw new Error("Parse AndroidManifest.xml error: ",e)}}},{key:"_parseResourceMap",value:function(e){try{return(new Ge).processResourceTable(e)}catch(e){throw new Error("Parser resources.arsc error: "+e)}}}]),r}(oe),$e=["apk"];return function(){function e(t){if(i(this,e),!t)throw new Error("Param miss: file(file's path in Node, instance of File or Blob in browser).");var r=(t.name||t).split("."),n=r[r.length-1].toLowerCase();if(!$e.includes(n))throw new Error("Unsupported file type, only support .ipa or .apk file.");switch(this.file=t,n){case"ipa":break;case"apk":this.parser=new Qe(this.file)}}return a(e,[{key:"parse",value:function(){return this.parser.parse()}}]),e}()}));
